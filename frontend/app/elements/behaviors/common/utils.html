<!--
Global behavior definition
-->
<script>
 // jscs:disable
'use strict';
var commonBv = commonBv || {};

commonBv.utils = {
  dateFormat: function(date, format) {
    return moment(date).format(format);
  },
  underscoreless: function(s) {
    return s.replace('_',' ');
  }
};
var config = {
  endpoints: {
    logout: {
      template: '/accounts/logout/'
    },
    userInfo: {
      template: '/users/api/profile/'
    },
    partnerStaffMemberProfile: {
      template: '/partnership/partnerstaffmember/'
    },
    locationsAutocomplete: {
      template: '/locations/autocomplete/'
    },
    interventionDetails: {
      template: '/api/interventions/<%=id%>/'
    },
    interventions: {
      template: '/api/interventions/',
      exp: 9000
    },
    resultChainDetails: {
      template: '/api/interventions/<%=interventionId%>/results/<%=rcId%>/'
    },
    newIndicatorReport: {
      template: '/api/interventions/<%=interventionId%>/results/<%=rcId%>/reports'
    }
  },
  permissions: {
    partnerOnlyPermissions: ['interventionsMenu'],
    defaultPermissions: ['loggedInDefault','userInfoMenu'],
    partnerPermissions: ['interventionsMenu'],
    managementPermissions: ['statsMenu']
  }
};

commonBv.globals = {
    baseSite: window.location.origin,
    getEp: function(ep, data) {
      return {
        url: this.baseSite + _.template(config.endpoints[ep].template)(data),
        exp: config.endpoints[ep].exp
      };
    },
    allPermissions: config.permissions
};
</script>