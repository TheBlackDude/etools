<!--
Global behavior definition
-->
<script>
 // jscs:disable
'use strict';
var commonBv = commonBv || {};

commonBv.utils = {
  dateFormat: function(date, format) {
    return moment(date).format(format);
  },
  underscoreless: function(s) {
    return s.replace('_',' ');
  }
};

commonBv.globals = {
    baseSite: window.location.origin,
    _path: function() {
        return Array.from(arguments).join('/') + '/';
    },
    getEp: function(ep, data) {
      switch (ep) {
        case 'logout':
          return {
            url: this._path(this.baseSite, 'accounts/logout')
          };
        case 'userInfo':
          return {
            url: this._path(this.baseSite, 'users', 'api', 'profile')
          };
        case 'partnerStaffMemberProfile':
          return {
            url: this._path(this.baseSite, 'partnership/partnerstaffmember')
          };
        case 'interventions':
          return {
            url: this._path(this.baseSite, 'api', 'interventions'),
            exp: 9000 //in miliseconds
          };
        case 'locationsAutocomplete':
          return {
            url: this._path(this.baseSite, 'locations/autocomplete')
          };

        // case 'userProperties':
        //   return this._path(this.baseSite, 'partners', 'api', 'profile', data.id);
        case 'interventionDetails':
          return {
            url: this._path(this.baseSite, 'api', 'interventions', data.id)
          };
        case 'resultChainDetails':
          return { 
            url: this._path(
                  this.baseSite, 
                  'api', 
                  'interventions', 
                  data.interventionId, 
                  'results', 
                  data.rcId
                ),
            exp: 3000 //in miliseconds
          };
        case 'newIndicatorReport':
          return {
            url: this._path(
                  this.baseSite,
                  'api', 
                  'interventions', 
                  data.interventionId, 
                  'results', 
                  data.rcId,
                  'reports'
                )
          };
      }
    },
    permissions: {
      partnerOnlyPermissions: ['interventionsMenu', 'userInfoMenu'],
      defaultPermissions: ['userInfoMenu'],
      partnerPermissions: ['interventionsMenu'],
      managementPermissions: ['statsMenu']
    }
};
</script>